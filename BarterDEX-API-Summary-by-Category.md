## Summary info for each API by Category

#### barterDEX Operation
[client](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#client), [client_osx](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#client_osx), [debug](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#debug), [disable](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#disable), [enable](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#enable), [getcoins](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#getcoins), [getpeers](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#getpeers), [getpeersIP](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#getpeersip), [help](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#help), [millis](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#millis), [notarizations](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#notarizations), [parselog](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#parselog), [run](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#run), [run_osx](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#run_osx), [setpassphrase](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#setpassphrase), [stop](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#stop), [trust](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#trust), [trusted](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#trusted)

#### barterDEX Trading
[autoprice](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#autoprice), [baserelswaps](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#baserelswaps), [bestfit](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bestfit), [buy](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#buy), [coinswaps](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#coinswaps), [electrum](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#electrum), [getprices](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#getprices), [goal](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#goal), [goals](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#goals), [myprice](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#myprice), [myprices](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#myprices), [orderbook](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#orderbook), [pendings](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#pendings), [pendingswaps](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#pendingswaps), [portfolio](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#portfolio), [pubkeystats](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#pubkeystats), [recentswaps](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#recentswaps), [sell](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#sell), [setconfirms](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#setconfirms), [setprice](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#setprice), [status](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#status)

[> `autoprice` the value of a fund, ie. using the `fundvalue` api](https://github.com/KomodoPlatform/KomodoPlatform/wiki/BarterDEX-API-Summary-by-Category#autoprice-the-value-of-a-fund-ie-using-the-fundvalue-api)

#### TradeBots
[bot_buy](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bot_buy), [bot_list](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bot_list), [bot_pause](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bot_pause), [bot_resume](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bot_resume), [bot_sell](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bot_sell), [bot_settings](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bot_settings), [bot_status](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bot_status), [bot_stop](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#bot_stop)

#### Coin Wallet Features
[balance](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#balance), [balances](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#balances), [fundvalue](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#fundvalue), [getrawtransaction](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#getrawtransaction), [listunspent](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#listunspent), [secretaddresses](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#secreaddresses), [sendrawtransaction](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#sendrawtransaction), [supernet](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#supernet), [withdraw](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#withdraw)

#### Statistics
[guistats](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#guistats), [pricearray](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#pricearray), [statsdisp](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#statsdisp), [ticker](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#ticker), [tradesarray](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#tradesarray)

#### Communication
[deletemessages](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#deletemessages), [getmessages](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#getmessages), [message](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#message)

#### Revenue Sharing/Operations
[dividends](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#dividends), [snapshot](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#snapshot), [snapshot_balance](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#snapshot_balance), [snapshot_loop](https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#snapshot_loop)

[InstantDEX swap](https://github.com/KomodoPlatform/KomodoPlatform/wiki/Processing-InstantDEX-swap-on-barterDEX) - `deposit1` & `claim` 

#### Docker
Use command line JSON args, either `"docker":1` or `"docker":"<ipaddr>"` with marketmaker and the request must come from that ip address to be mapped to localhost.

If you have docker installed you can get the BarterDEX API running on Windows, Mac or Linux by running:

```shell
docker run -e PASSPHRASE="secure passphrase" -p 127.0.0.1:7783:7783 lukechilds/barterdex-api
```

[GitHub link](https://github.com/lukechilds/docker-barterdex-api)

### barterDEX Operation

#### client
The first API to run which will start barterDEX. This will generate a `userpass` on its first run which can be found above the start mainloop area of the output. Make sure to save it to the userpass file on dexscripts directory. Run `pkill -15 marketmaker` each time before you stop `./client`.

Sample File Contents:
```shell
source coins
pkill -15 marketmaker; 
git pull;
cd ..; 
./m_mm;
./marketmaker "{\"gui\":\"nogui\",\"client\":1, \"userhome\":\"/${HOME#"/"}\", \"passphrase\":\"$passphrase\", \"coins\":$coins}" &
```

#### client_osx
It is the same script as above but only for MacOS.

Sample File Contents:
```shell
source coins
pkill -15 marketmaker; 
git pull;
cd ..; 
./m_mm;
./marketmaker "{\"gui\":\"nogui\",\"client\":1, \"userhome\":\"/${HOME#"/"}/Library/Application\ Support\", \"passphrase\":\"$passphrase\", \"coins\":$coins}" &
```

#### debug
This script will let you debug if you run into problem with `marketmaker` and coins using `gdb`. This will kill the `marketmaker` first, do a `git pull` for fresh data and build it again. To exit from this mode type `quit` and hit enter.

Sample File Contents:
```shell
source coins
pkill -15 marketmaker; 
git pull;
cd ..; 
./m_mm;
gdb -args ./marketmaker "{\"gui\":\"nogui\",\"client\":1, \"userhome\":\"/${HOME#"/"}\", \"passphrase\":\"$passphrase\", \"coins\":$coins}"
```

#### disable
This method disables a coin. A disabled coin is not eligible for trading.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"disable\",\"coin\":\"REVS\"}"
```

#### enable
This method enables a coin by connecting to a local running coin daemon. To be eligible for trading a coin must be enabled and the daemon should be running.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"enable\",\"coin\":\"MNZ\"}"
```

Sample Output:
```json
[
  {
    "coin": "MNZ",
    "installed": true,
    "height": 1259,
    "balance": 0.51983025,
    "KMDvalue": 0.08887519,
    "status": "active",
    "smartaddress": "RDoMmoCM5AcEH6Yf5vqKbqRjD1fLcQHuWb",
    "rpc": "127.0.0.1:14337",
    "pubtype": 60,
    "p2shtype": 85,
    "wiftype": 188,
    "txfee": 0
  }
]
```

#### getcoins
This will display the list of coins that barterDEX supports. It will list both disabled and enabled coins. Along with the status of the coin, this function will also display your smartaddress for that given coin. This method does not need user defined inputs and will just display all the coins.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"getcoins\"}"
```

Sample Output:
```JSON
[
  {
    "coin": "BTC",
    "height": 0,
    "status": "inactive",
    "smartaddress": "15XAhHK4ULofD6BTckrCWK6XSkCjscX7jj",
    "rpc": "127.0.0.1:8332",
    "pubtype": 0,
    "p2shtype": 5,
    "wiftype": 128,
    "txfee": 0
  },
  {
    "coin": "KMD",
    "height": 538355,
    "status": "active",
    "smartaddress": "RDoMmoCM5AcEH6Yf5vqKbqRjD1fLcQHuWb",
    "rpc": "127.0.0.1:7771",
    "pubtype": 60,
    "p2shtype": 85,
    "wiftype": 188,
    "txfee": 10000
  }
]
```

#### getpeers
The `./getpeers` script prints the connected nodes available to trade in the network.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"getpeers\"}"
```

Sample Output:
```JSON
[
  {
    "ipaddr": "5.9.253.202",
    "port": 7783,
    "session": 1508151814
  },
  {
    "ipaddr": "5.9.253.195",
    "port": 7783,
    "session": 1508151804
  },
  {
    "ipaddr": "5.9.253.196",
    "port": 7783,
    "session": 0
  },
  {
    "ipaddr": "5.9.253.197",
    "port": 7783,
    "session": 0
  },
  {
    "ipaddr": "5.9.253.198",
    "port": 7783,
    "session": 0
  },
  {
    "ipaddr": "5.9.253.199",
    "port": 7783,
    "session": 0
  },
  {
    "ipaddr": "5.9.253.200",
    "port": 7783,
    "session": 0
  },
  {
    "ipaddr": "5.9.253.201",
    "port": 7783,
    "session": 0
  },
  {
    "ipaddr": "5.9.253.203",
    "port": 7783,
    "session": 0
  }
]
```

#### getpeersIP
The `./getpeersIP` script prints all the connected nodes, their `port` and `session` number.

Sample File Contents:
```shell
curl --url "http://5.9.253.195:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.196:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.197:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.198:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.199:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.200:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.201:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.202:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.203:7783" --data "{\"method\":\"getpeers\"}"
curl --url "http://5.9.253.204:7783" --data "{\"method\":\"getpeers\"}"
```

Sample Output:
```JSON
[{"ipaddr":"5.9.253.195","port":7783,"session":1508151804},
{"ipaddr":"5.9.253.196","port":7783,"session":0},
{"ipaddr":"5.9.253.197","port":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0},
{"ipaddr":"5.9.253.199","port":7783,"session":0}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.201","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}, 
{"ipaddr":"5.9.253.202","port":7783,"session":0}]
[{"ipaddr":"5.9.253.196","port":7783,"session":1508151807}, 
{"ipaddr":"5.9.253.195","port":7783,"session":1508151804}, 
{"ipaddr":"5.9.253.197","port":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0}, 
{"ipaddr":"5.9.253.199","port":7783,"session":0}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.201","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}, 
{"ipaddr":"5.9.253.202","port":7783,"session":0}]
[{"ipaddr":"5.9.253.197","port":7783,"session":1508151808}, 
{"ipaddr":"5.9.253.195","port":7783,"session":1508151804}, 
{"ipaddr":"5.9.253.196","port":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0}, 
{"ipaddr":"5.9.253.199","port":7783,"session":0}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.201","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}, 
{"ipaddr":"5.9.253.202","port":7783,"session":0}]
[{"ipaddr":"5.9.253.198","port":7783,"session":1508151809}, 
{"ipaddr":"5.9.253.195","port":7783,"session":1508151804}, 
{"ipaddr":"5.9.253.196","port":7783,"session":0}, 
{"ipaddr":"5.9.253.197","port":7783,"session":0}, 
{"ipaddr":"5.9.253.199","port":7783,"session":0}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.201","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}, 
{"ipaddr":"5.9.253.202","port":7783,"session":0}]
[{"ipaddr":"5.9.253.199","port":7783,"session":1508151809}, 
{"ipaddr":"5.9.253.195","port":7783,"session":1508151804}, 
{"ipaddr":"5.9.253.196","port":7783,"session":0}, 
{"ipaddr":"5.9.253.197","port":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.201","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}, 
{"ipaddr":"5.9.253.202","port":7783,"session":0}]
[{"ipaddr":"5.9.253.200","port":7783,"session":1508151812}, 
{"ipaddr":"5.9.253.195","port":7783,"session":1508151804}, 
{"ipaddr":"5.9.253.196","port":7783,"session":0}, 
{"ipaddr":"5.9.253.197","port":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0}, 
{"ipaddr":"5.9.253.199","port":7783,"session":0}, 
{"ipaddr":"5.9.253.201","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}, 
{"ipaddr":"5.9.253.202","port":7783,"session":0}]
[{"ipaddr":"5.9.253.201","port":7783,"session":1508151813}, 
{"ipaddr":"5.9.253.195","port":7783,"session":1508151804}, 
{"ipaddr":"5.9.253.196","port":7783,"session":0}, 
{"ipaddr":"5.9.253.197","po###barterDEX Trading###rt":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0}, 
{"ipaddr":"5.9.253.199","port":7783,"session":0}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}, 
{"ipaddr":"5.9.253.202","port":7783,"session":0}]
[{"ipaddr":"5.9.253.202","port":7783,"session":1508151814}, 
{"ipaddr":"5.9.253.195","port":7783,"session":1508151804}, 
{"ipaddr":"5.9.253.196","port":7783,"session":0}, 
{"ipaddr":"5.9.253.197","port":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0}, 
{"ipaddr":"5.9.253.199","port":7783,"session":0}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.201","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}]
[{"ipaddr":"5.9.253.203","port":7783,"session":1508151814}, 
{"ipaddr":"5.9.253.195","port":7783,"session":1508151804}, 
{"ipaddr":"5.9.253.196","port":7783,"session":0}, 
{"ipaddr":"5.9.253.197","port":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0}, 
{"ipaddr":"5.9.253.199","port":7783,"session":0}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.201","port":7783,"session":0}, 
{"ipaddr":"5.9.253.202","port":7783,"session":0}]
[{"ipaddr":"5.9.253.197","port":7783,"session":1506966021}, 
{"ipaddr":"5.9.253.195","port":7783,"session":0}, 
{"ipaddr":"5.9.253.196","port":7783,"session":0}, 
{"ipaddr":"5.9.253.199","port":7783,"session":1506966023}, 
{"ipaddr":"5.9.253.201","port":7783,"session":1506966027}, 
{"ipaddr":"5.9.253.202","port":7783,"session":1506966028}, 
{"ipaddr":"5.9.253.200","port":7783,"session":0}, 
{"ipaddr":"5.9.253.203","port":7783,"session":0}, 
{"ipaddr":"5.9.253.198","port":7783,"session":0}, 
{"ipaddr":"82.7.169.222","port":7783,"session":0}]
```

#### help
The `./help` api will display a list of all the available API available on barterDEX and usage options.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"help\"}"
```

Sample Output:
```JSON
{"result":" available localhost RPC commands: 
 setprice(base, rel, price, broadcast=1)
autoprice(base, rel, fixed, minprice, margin, refbase, refrel, factor, offset)*
goal(coin=*, val=<autocalc>)
myprice(base, rel)
enable(coin)
disable(coin)
notarizations(coin)
parselog()
statsdisp(starttime=0, endtime=0, gui=, pubkey=, base=, rel=)
tradesarray(base, rel, starttime=<now>-timescale*1024, endtime=<now>, timescale=60) -> [timestamp, high, low, open, close, relvolume, basevolume, aveprice, numtrades]
pricearray(base, rel, starttime=0, endtime=0, timescale=60) -> [timestamp, avebid, aveask, highbid, lowask]
getrawtransaction(coin, txid)
inventory(coin, reset=0, [passphrase=])
bestfit(rel, relvolume)
lastnonce()
buy(base, rel, price, relvolume, timeout=10, duration=3600, nonce, destpubkey=)
sell(base, rel, price, basevolume, timeout=10, duration=3600, nonce, destpubkey=)
withdraw(coin, outputs[])
sendrawtransaction(coin, signedtx)
swapstatus()
swapstatus(coin, limit=10)
swapstatus(base, rel, limit=10)
swapstatus(requestid, quoteid)
recentswaps(limit=3)
public API:
 getcoins()
getcoin(coin)
portfolio()
getpeers()
passphrase(passphrase, gui)
listunspent(coin, address)
setconfirms(coin, numconfirms, maxconfirms=6)
trust(pubkey, trust) # positive to trust, 0 for normal, negative to blacklist
balance(coin, address)
orderbook(base, rel, duration=3600)
getprices(base, rel)
//sendmessage(base=coin, rel=, pubkey=zero, <argjson method2>)
//getmessages(firsti=0, num=100)
//deletemessages(firsti=0, num=100)
secretaddresses(prefix='secretaddress', passphrase, num=10, pubtype=60, taddr=0)
electrum(coin, ipaddr, port)
snapshot(coin, height)
snapshot_balance(coin, height, addresses[])
dividends(coin, height, <args>)
stop()
bot_list()
bot_statuslist()
bot_buy(base, rel, maxprice, relvolume) -> botid
bot_sell(base, rel, minprice, basevolume) -> botid
bot_settings(botid, newprice, newvolume)
bot_status(botid)
bot_stop(botid)
bot_pause(botid)
zeroconf_deposit(weeks, amount, broadcast=0)
zeroconf_claim(address, expiration=0)
"}
```

#### millis
`millis` is a new debug API. James put the millis display in the swaploop, which is once per 10 minutes.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"millis\"}"
```

Sample Output:
```json
                      queue_loop elapsed     209.91 millis > threshold      50.00, ave       5.11 millis, count.18616
                LP_reserved_msgs lag       0.90 millis, threshold      20.00, ave       3.09 millis, count.32100
                     utxosQ_loop lag       9.36 millis, threshold      50.00, ave      10.09 millis, count.9834
                 command_rpcloop lag       6.76 millis, threshold    1000.00, ave      10.06 millis, count.9863
                      queue_loop lag       3.67 millis, threshold      50.00, ave       5.11 millis, count.19431
                     prices_loop lag   38831.90 millis, threshold   61000.00, ave   60432.92 millis, count.1
                other coins loop lag       0.88 millis, threshold     200.00, ave       1.11 millis, count.89747
                   BTC coin loop lag       0.54 millis, threshold     200.00, ave       1.10 millis, count.89834
                   KMD coin loop lag       1.09 millis, threshold     200.00, ave       1.15 millis, count.86644
                  LP_pubkeysloop lag    2229.59 millis, threshold    3100.00, ave    3001.13 millis, count.29
                 LP_privkeysloop lag   79262.36 millis, threshold  140860.00, ave       0.00 millis, count.0
                    LP_swapsloop lag   49262.25 millis, threshold  605000.00, ave       0.00 millis, count.0
                     utxosQ_loop elapsed      94.28 millis > threshold      50.00, ave      10.10 millis, count.10738

```


#### notarizations
This script will display coin notarization status for a specified coin. Use the script like this `./notarizations KMD`, `./notarizations REVS`,...

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"notarizations\",\"coin\":\"$1\"}"
```

Sample Output:
```JSON
{
  "result": "success",
  "coin": "KMD",
  "lastnotarization": 553573,
  "bestheight": 553578
}
```

#### parselog

`./parselog` will parse the stats.log file, just the incremental since last time.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"parselog\"}"
```

Sample Output:
```JSON
{
  "result": "success",
  "newlines": 0,
  "request": 0,
  "reserved": 0,
  "connect": 0,
  "connected": 0,
  "duplicates": 0,
  "parse_errors": 0,
  "uniques": 0,
  "tradestatus": 0,
  "unknown": 0
}
```

#### run
`./run` starts barterDEX in LPnode mode while `./clinet` is for clinet mode. After it starts (takes a tiny bit time to complete) execute your API calls from the dexscripts directory.

Sample File Contents:
```shell
pkill -15 marketmaker; 
git pull;
cd ..; 
./m_mm;
 $1 ./marketmaker "{\"gui\":\"nogui\", \"profitmargin\":0.01, \"userhome\":\"/${HOME#"/"}\", \"passphrase\":\"$passphrase\", \"coins\":$coins}" &
```

#### run_osx
Starts barterDEX on MacOS environment.

Sample File Contents:
```shell
pkill -15 marketmaker; 
git pull;
cd ..; 
./m_mm;
$1 ./marketmaker "{\"gui\":\"nogui\", \"profitmargin\":0.01, \"userhome\":\"/${HOME#"/"}/Library/Application\ Support\", \"passphrase\":\"$passphrase\", \"coins\":$coins}" &
```

#### setpassphrase
This method helps the GUI build to take input of the passphrase.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"passphrase\",\"passphrase\":\"put the passphrase here\",\"gui\":\"buildog\"}"
```

#### stop
This method will stop `barterDEX`.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"stop\"}
```

#### trust
Make your pubkey trusted by using this `./trust` method. You need to add your pubkey after the command. If you want the pubkey to be not trusted use `\"trust\":1`. This API works immediately.

Sample File Contents:
```shell
echo "usage: ./trust <pubkey>"
source userpass
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"pubkey\":\"$1\",\"method\":\"trust\",\"trust\":1}"
```

Sample Output:
```JSON
usage: ./trust <pubkey>
{"result":"success"}
```

#### trusted
This method will display the `pubkey` you made trusted. No need to edit the file.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"trusted\"}"
```

Sample Output:
```JSON
[
  "040f1d2d5d12027afa2cec30477312e225b0d24c77cc4aa08d3fffe51277b904"
]
```

### barterDEX Trading
Default timeout for a trade is 10 seconds, which means if no response, must wait 10 seconds between trade requests. It will generate an error if Alice tries to submit a trade while a previous request is pending.

However if the other side responds, you can do another trade and we are seeing virtually instant responses from the live LP nodes.

_**Trade Negotiation Sequence:**_
```
Alice submits a "request" to the Bob node.
Now we are in a pending state for up to 10 seconds.
Bob responds with a "reserved", which releases Alice from the pending state.
For the request that comes back, Alice can reject it or accept it and send a "connect" message.
Finally Bob returns a "connected" message and the atomic swap begins.
```

James has also added automated broadcast of any setprices, which will occur automatically when you do a buy/sell for the coin you are buying with, as long as you are not using Electrum.To be a bob, you need the native coin. With the pruning of the orderbook to most recent 2 minutes, it required the setprice to be called regularly. This function is internalized, so a single setprice is all that is needed. If you want to "cancel" it you can setprice to 0. GUI can now post bob orders if you have native coins enabled.

Using the `buy`/`sell` api is a fill or kill (except partial fills are allowed) and to put a limit order, `autoprice` needs to be used. The `autoprice` is a bit tricky to use, make sure you don't make the example backwards.

#### autoprice
`autoprice` is a very powerful API and it allows you to specify the price for a specific trading pair that is automatically updated as the marketprice of it changes. barterDEX uses external price sources (Bittrex, Cryptopia) to get up to date prices. For now, it is a relatively simple set of things you can do with the following fields:

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"KMD\",\"rel\":\"BTC\",\"margin\":0.0001}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"BTC\",\"rel\":\"KMD\",\"margin\":0.0001}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"KMD\",\"rel\":\"HUSH\",\"margin\":0.01}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"HUSH\",\"rel\":\"KMD\",\"margin\":0.01}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"KMD\",\"rel\":\"USD\",\"margin\":0.01}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"USD\",\"rel\":\"KMD\",\"margin\":0.01}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"KMD\",\"rel\":\"JUMBLR\",\"margin\":0.01}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"JUMBLR\",\"rel\":\"KMD\",\"margin\":0.01}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"MNZ\",\"rel\":\"KMD\",\"offset\":0.1,\"refbase\":\"KMD\",\refrel\":\"BTC\",\"factor\":15000,\"margin\"-:0.2}"
```

Sample Output:
```JSON
{
  "result": "success"
},
{
  "result": "success"
}
...
```

#### Knowledge Base:
`refbase` and `refrel` allow you to specify a different base/rel pair as the basis for the price, if there is no `refbase` and `refrel`, the the base/rel price from external sources is used as the starting point. This is calculated approximately once per minute and a set price done automatically:

```
setprice of (1. + margin) * ((price * factor) + offset)
```

The margin is usually set to 0.01 for 1% profit margin. using factor and offset it is possible to map a starting price to a standard multiple.

There is also a minprice field which sets the absolute minimum (post calculation) price that is accepted.

#### baserelswaps
This method uses the `swapstatus` API and displays base/rel swapstatus.
Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"swapstatus\",\"base\":\"MNZ\",\"rel\":\"KMD\"}"
```

#### `autoprice` the value of a fund, ie. using the `fundvalue` api

The way to do is it start with the `fundvalue` api call, then change the `method` to `autoprice`. Add `base` and `rel` and most importantly `fundvalue_bid` and `fundvalue_ask` that will be values in the return of the `fundvalue` call. Additionally, `margin` is applied. This sounds complicated and it is, but now MSHARK, HODL and even SUPERNET running using this autoprice. The following sample content is an example how to use it.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"base\":\"MSHARK\",\"rel\":\"KMD\",\"fundvalue_bid\":\"NAV_KMD\",\"fundvalue_ask\":\"assetNAV_KMD\",\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"address\":\"RTu3JZZKLJTcfNwBa19dWRagEfQq49STqC\",\"holdings\":[{\"coin\":\"iota\",\"balance\":5000000}],\"divisor\":1400000}"
```

Sample Output:
```JSON
{"result":"success"}
```

#### bestfit
This is a debugging function. If for some reason the buy did not work for you, this function will help you check what utxo best matches the parameters you want to set for the buy.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bestfit\",\"rel\":\"KMD\",\"relvolume\":1.01}"
```

#### buy
In simple terms, this command will post a buy order. If there is a matching order in the orderbooks, then this will automatically start a trade. If a match is not found, a bid order will be added in the orderbook. Buy fills asks from the orderbook using relvolume. Trade request will last as long as defined in the 'timeout' field.

Call 'recentswaps' to check the status of the trade request. Alice side does not give feedback about expired trade request, unless a 'recentswaps' call is done.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"buy\",\"base\":\"MNZ\",\"rel\":\"KMD\",\"relvolume\":0.005,\"price\":0.172}"
```

##### Knowledge Base:
`base:` the currency you want to buy
`rel:` the currency you are paying with
`price:` the max price you are willing to pay for 1 base
`relvolume:` the amount of rel you want to trade
`timeout:` the amount of time Alice or Bob should wait for payment. Default: 10 seconds (might be deprecated in future)
`duration:` after the specified duration it wont be displayed

Sample Output:
```JSON
{
  "result": "success",
  "swaps": [
    [
      45030989,
      41860326
    ],
    [
      264022270,
      1424922977
    ],
    [
      3882191272,
      3366340834
    ]
  ],
  "pending": {
    "expiration": 1509564162,
    "timeleft": 15,
    "requestid": 0,
    "quoteid": 0,
    "bob": "MNZ",
    "base": "MNZ",
    "basevalue": 0.02803687,
    "alice": "KMD",
    "rel": "KMD",
    "relvalue": 0.0048,
    "aliceid": 7785695213943587000
  }
}
```

#### coinswaps
This method uses `swapstatus` for a spcific coin.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"swapstatus\",\"coin\":\"MNZ\"}"
```

Sample Output:



#### electrum
This method enables a coin by connecting to the specified electrumx server. For this method running a native node is not necessary. You need to edit the file with coin name and IP address and port for the coin. For a list of electrumx server check this link `http://pad.supernet.org/electrum-servers`

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"electrum\",\"coin\":\"ZEC\",\"ipaddr\":\"136.243.45.140\",\"port\":50032}"
```

Sample Output:
```JSON
{
  "ipaddr": "136.243.45.140",
  "port": 50032,
  "result": "success"
}
```

#### getprices
The `./getprices` api lists all currently available trading pairs and its current prices. You need to specify a base and rel coin if you need a specific pair price.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"getprices\",\"coin\":\"KMD\"}"
```

Sample Output:
```JSON
[
  {
    "pubkey": "040f1d2d5d12027afa2cec30477312e225b0d24c77cc4aa08d3fffe51277b904",
    "rmd160": "8784673d815a20300412a9010b72e771963d45b6",
    "pubsecp": "03829863f4ed7660fbf62b2f84b0e655f523a33f23a1f681107d2a2942987584b1",
    "timestamp": 1508160175,
    "asks": [
      [
        "BTC",
        "KMD",
        3304.53174512
      ],
      [
        "KMD",
        "BTC",
        0.00030268
      ],
      [
        "KMD",
        "REVS",
        0.78551134
      ],
      [
        "KMD",
        "JUMBLR",
        0.10432527
      ],
      [
        "KMD",
        "HUSH",
        1.17931676
      ],
      [
        "REVS",
        "KMD",
        1.29051134
      ],
      [
        "JUMBLR",
        "KMD",
        9.77904977
      ],
      [
        "HUSH",
        "KMD",
        0.86507888
      ]
    ]
  }
]
```

#### goal
The `./goal` command is basically the automatic trading tool of the API. When you execute this command, orders will be set until the goals are reached. The idea is that you set the goal for each coin and if you have more than the goal for a specific coin, it will allow sales of that coin. If you have less than the goal percentage, it will allow buys of that coin.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"goal\",\"coin\":\"KMD\",\"val\":99}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"goal\",\"coin\":\"BTC\",\"val\":10}"
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"goal\",\"coin\":\"REVS\",\"val\":1}"
```

Sample Output:
```JSON
{
  "result": "success",
  "kmd_equiv": 29.03290329,
  "buycoin": "KMD",
  "buyforce": 125.75072424,
  "sellcoin": "DGB",
  "sellforce": -412.28377122,
  "portfolio": [
    {
      "coin": "BTC",
      "address": "15XAhHK4ULofD6BTckrCWK6XSkCjscX7jj",
      "amount": 0,
      "price": 3315.35638637,
      "kmd_equiv": 0,
      "perc": 0,
      "goal": 10,
      "goalperc": 9.09090909,
      "relvolume": 0,
      "force": 82.6446281,
      "balanceA": 0,
      "valuesumA": 0,
      "balanceB": 0,
      "valuesumB": 0,
      "balance": 0
    },
    {
      "coin": "KMD",
      "address": "RDoMmoCM5AcEH6Yf5vqKbqRjD1fLcQHuWb",
      "amount": 22.87390295,
      "price": 1,
      "kmd_equiv": 22.87390295,
      "perc": 78.78613696,
      "goal": 99,
      "goalperc": 90,
      "relvolume": 0,
      "force": 125.75072424,
      "balanceA": 22.6448,
      "valuesumA": 22.87390295,
      "aliceutil": 98.99840901,
      "balanceB": 22.6448,
      "valuesumB": 22.87390295,
      "balance": 22.87390295,
      "bobutil": 98.99840901
    },
    {
      "coin": "DGB",
      "address": "D9fGEYFhmkhwk6N4MLqm45G8Ksw3E2AmTR",
      "amount": 919,
      "price": 0.00670185,
      "kmd_equiv": 6.15900034,
      "perc": 21.21386304,
      "goal": 1,
      "goalperc": 0.90909091,
      "relvolume": 186.60085587,
      "force": -412.28377122,
      "balanceA": 479.499,
      "valuesumA": 919,
      "aliceutil": 52.17616975,
      "balanceB": 479.499,
      "valuesumB": 919,
      "balance": 919,
      "bobutil": 52.17616975
    }
  ]
}
```

#### goals
Displays the goal percentage for each coin and their status.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"goal\"}"
```

Sample Output:
```JSON
{
  "result": "success",
  "kmd_equiv": 28.98048555,
  "buycoin": "BTC",
  "buyforce": 625,
  "sellcoin": "KMD",
  "sellforce": -2908.30091422,
  "base": "BTC",
  "rel": "KMD",
  "relvolume": 12.33191136,
  "portfolio": [
    {
      "coin": "BTC",
      "address": "15XAhHK4ULofD6BTckrCWK6XSkCjscX7jj",
      "amount": 0,
      "price": 3321.5219084,
      "kmd_equiv": 0,
      "perc": 0,
      "goal": 25,
      "goalperc": 25,
      "relvolume": 0,
      "force": 625,
      "balanceA": 0,
      "valuesumA": 0,
      "balanceB": 0,
      "valuesumB": 0,
      "balance": 0
    },
    {
      "coin": "KMD",
      "address": "RDoMmoCM5AcEH6Yf5vqKbqRjD1fLcQHuWb",
      "amount": 22.87391037,
      "price": 1,
      "kmd_equiv": 22.87391037,
      "perc": 78.92866505,
      "goal": 25,
      "goalperc": 25,
      "relvolume": 12.33559451,
      "force": -2908.30091422,
      "balanceA": 22.6448,
      "valuesumA": 22.87391037,
      "aliceutil": 98.9983769,
      "balanceB": 22.6448,
      "valuesumB": 22.87391037,
      "balance": 22.87391037,
      "bobutil": 98.9983769
    },
    {
      "coin": "ZEC",
      "address": "t1NPmhcjCSfbFojEMZBfKe8CShQPpkcn4W7",
      "amount": 0,
      "price": 135.89703925,
      "kmd_equiv": 0,
      "perc": 0,
      "goal": 25,
      "goalperc": 25,
      "relvolume": 0,
      "force": 625,
      "balanceA": 0,
      "valuesumA": 0,
      "balanceB": 0,
      "valuesumB": 0,
      "balance": 0
    },
    {
      "coin": "DGB",
      "address": "D9fGEYFhmkhwk6N4MLqm45G8Ksw3E2AmTR",
      "amount": 919,
      "price": 0.0066448,
      "kmd_equiv": 6.10657518,
      "perc": 21.07133495,
      "goal": 25,
      "goalperc": 25,
      "relvolume": 0,
      "force": 15.43440909,
      "balanceA": 479.499,
      "valuesumA": 919,
      "aliceutil": 52.17616975,
      "balanceB": 479.499,
      "valuesumB": 919,
      "balance": 919,
      "bobutil": 52.17616975
    }
  ]
}
```

#### myprice
Shows number of bids andprices you set for a given coin. Your wallet must be active to display the prices.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"myprice\",\"base\":\"REVS\",\"rel\":\"KMD\"}"
```

Sample Output:
```JSON
{
  "base": "REVS",
  "rel": "KMD",
  "bid": 2,
  "ask": 0
}
```

#### myprices
`./myprices` shows numer of bids and ask for your `./buy` coin pair.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"myprices\"}"
```

Sample Output:
```JSON
[
  {
    "base": "KMD",
    "rel": "REVS",
    "bid": 0,
    "ask": 0.5
  },
  {
    "base": "REVS",
    "rel": "KMD",
    "bid": 2,
    "ask": 0
  }
]
```

#### orderbook
Displays bid/ask for a specific coin/asset pair. You can display multiple pairs, just need to edit the file and add more line.  The `numutxos`/`minvolume`/`maxvolume` are the state of your local `utxo` cache. It might or might not be 100% accurate. Also, if all `0`'s it could be that it hasn't been queried yet. Even if all zeros, it is possible, even likely that there are actually `utxo` available.

If you do an `./orderbook`, it will start fetching the details from the best prices. You can do `listunspent` for a specific address, but it is not possible to know for sure what trades are possible, especially as there are other nodes that might be going after the same `utxo`. Specifically doing a `listunspent` api will also fetch the details, also doing a trade will fetch the details as well. James uses just in time fetching to get the `utxo` data. This way we don't flood the network with data for `utxo` info.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"orderbook\",\"base\":\"DGB\",\"rel\":\"KMD\"}"
```

Sample Output:
```JSON
{
  "bids": [
    {
      "coin": "KMD",
      "address": "RB8yufv3YTfdzYnwz5paNnnDynGJG6WsqD",
      "price": 0.00492739,
      "numutxos": 13,
      "minvolume": 0.072,
      "maxvolume": 0.76,
      "pubkey": "8adbf9d5de4fb49ec1fca9ca3f28ba384715752de1197c9cddbb756c3d2a1a7c",
      "age": 16
    },
    {
      "coin": "KMD",
      "address": "RHPBQQpjVqpwWC8NrpAxdoRQAkigA2zjRo",
      "price": 0.00487791,
      "numutxos": 5,
      "minvolume": 0.00016002,
      "maxvolume": 96,
      "pubkey": "22aaf8e3686d31ee9f5ebe61c97231114717aee943ef01cc58e9f843ddad0240",
      "age": 53
    }
  ],
  "numbids": 2,
  "asks": [
    {
      "coin": "DGB",
      "address": "D6ztNQyQF3mMTYcMFVq1q2cd6eXzqPKGc8",
      "price": 0.00532946,
      "numutxos": 38,
      "minvolume": 0.00586622,
      "maxvolume": 2.20800448,
      "pubkey": "8adbf9d5de4fb49ec1fca9ca3f28ba384715752de1197c9cddbb756c3d2a1a7c",
      "age": 16
    },
    {
      "coin": "DGB",
      "address": "DDF5s9t6CRveyBwn8EBQ63FoHczNsyFsFi",
      "price": 0.0053779,
      "numutxos": 3,
      "minvolume": 0.67844886,
      "maxvolume": 7.06141621,
      "pubkey": "22aaf8e3686d31ee9f5ebe61c97231114717aee943ef01cc58e9f843ddad0240",
      "age": 53
    }
  ],
  "numasks": 2,
  "base": "DGB",
  "rel": "KMD",
  "timestamp": 1508410319
}
```

#### pendings
`./pendings` is a special case of `statsdisp` and will display all the pending swaps. You can set a starttime and endtime to query your pending swaps.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"statsdisp\",\"starttime\":2000000000,\"endtime\":2000000000}"
```

Sample Output:
```JSON
{
  "result": "success",
  "newlines": 0,
  "swaps": [
    {
      "aliceid": "7276253190735921153",
      "src": "30eb3d952f66eba2df0100b97d6707257cf91dc8c8b0237cfb7c3aa70dc52d4d",
      "base": "REVS",
      "basevol": 0.13338748,
      "dest": "1282417c4e7d5bb870067f5c05ffe87a0d8c8ce9956befff560e92b7c8d23741",
      "rel": "KMD",
      "relvol": 0.1505,
      "price": 1.12913831,
      "requestid": 2339417255,
      "quoteid": 1177391651,
      "line": "2017-10-30T16:16:00Z (nogui).(nogui) 0    connected    7276253190735921153: (0.13338748  REVS) -> (0.15050000   KMD) 1.12913831 finished.0 expired.0"
    }
  ],
  "volumes": [
    {
      "coin": "KMD",
      "srcvol": 0,
      "destvol": 0.1505,
      "numtrades": 1,
      "total": 0.1505
    },
    {
      "coin": "REVS",
      "srcvol": 0.13338748,
      "destvol": 0,
      "numtrades": 1,
      "total": 0.13338748
    }
  ],
  "request": 4,
  "reserved": 2,
  "connect": 4,
  "connected": 1,
  "duplicates": 4,
  "parse_errors": 0,
  "uniques": 1,
  "tradestatus": 0,
  "unknown": 0
}

```

#### pendingswaps
This way you can see what swaps are still pending. This uses `pending=1` arg to `swapstatus` method.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"swapstatus\",\"pending\":1}"
```

Sample Output:
```JSON
{

"result":"success",
"swaps":[
{
"expiration":1512738286,
"tradeid":4038861795,
"requestid":1887485571,
"quoteid":2755902417,
"iambob":0,
"Bgui":"",
"Agui":"nogui",
"gui":"nogui",
"bob":"BTC",
"srcamount":0.02555775,
"bobtxfee":0.00212221,
"alice":"KMD",
"destamount":95,
"alicetxfee":0.0001,
"aliceid":"9807693779256541185",
"sentflags":[
"bobspend",
"bobpayment",
"alicepayment",
"bobdeposit",
"myfee",
"bobrefund"
],
"values":[
0.02343554,
0,
0.02555775,
95.0002,
0.02875246,
0,
0.12226512,
0.0279102,
0,
0,
0
],
"result":"success",
"status":"finished",
"finishtime":1512839121,
"bobdeposit":"ec1e73395a7bd855bcf3afe58b0b1d478532ef398f2df68d2d10424e9d36743f",
"alicepayment":"d3edb95bb9f3bd898f8b655398c5ab0ae86bc90d14176068096b6111eb201a05",
"bobpayment":"9ff00880871d1474474378a4b9fc445ec13367be51a7b797a3cc76c1c4da52b6",
"paymentspent":"0000000000000000000000000000000000000000000000000000000000000000",
"Apaymentspent":"1fd16aaf9a41e44efe30bf01087470b9db3cf287b0b7a2634b25b97601e2acda",
"depositspent":"27d774b0765eee97f7423785a4c80d3cea36adaccb5fa9f4fa5fe0e8fa68bfbe",
"method":"tradestatus"
}
]
}
```

#### portfolio
Shows all active coin information and value. Such as, smartaddress, balance, current price per coin in barterDEX, KMD equivalent balance, percentage of your portfolio goal. You donâ€™t need to edit or change the script for it work. It will get information from your active wallets and display them.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"portfolio\"}"
```

Sample Output:
```JSON
{
  "result": "success",
  "kmd_equiv": 29.09215302,
  "buycoin": "KMD",
  "buyforce": 129.37341083,
  "sellcoin": "DGB",
  "sellforce": -418.82246271,
  "base": "ZEC",
  "rel": "DGB",
  "relvolume": 189.62190318,
  "portfolio": [
    {
      "coin": "BTC",
      "address": "15XAhHK4ULofD6BTckrCWK6XSkCjscX7jj",
      "amount": 0,
      "price": 3351.92820521,
      "kmd_equiv": 0,
      "perc": 0,
      "goal": 10,
      "goalperc": 9.09090909,
      "relvolume": 0,
      "force": 82.6446281,
      "balanceA": 0,
      "valuesumA": 0,
      "balanceB": 0,
      "valuesumB": 0,
      "balance": 0
    },
    {
      "coin": "KMD",
      "address": "RDoMmoCM5AcEH6Yf5vqKbqRjD1fLcQHuWb",
      "amount": 22.87392545,
      "price": 1,
      "kmd_equiv": 22.87392545,
      "perc": 78.62575669,
      "goal": 99,
      "goalperc": 90,
      "relvolume": 0,
      "force": 129.37341083,
      "balanceA": 22.6448,
      "valuesumA": 22.87392545,
      "aliceutil": 98.99831163,
      "balanceB": 22.6448,
      "valuesumB": 22.87392545,
      "balance": 22.87392545,
      "bobutil": 98.99831163
    },
    {
      "coin": "DGB",
      "address": "D9fGEYFhmkhwk6N4MLqm45G8Ksw3E2AmTR",
      "amount": 919,
      "price": 0.0067663,
      "kmd_equiv": 6.21822757,
      "perc": 21.37424331,
      "goal": 1,
      "goalperc": 0.90909091,
      "relvolume": 188.07475055,
      "force": -418.82246271,
      "balanceA": 479.499,
      "valuesumA": 919,
      "aliceutil": 52.17616975,
      "balanceB": 479.499,
      "valuesumB": 919,
      "balance": 919,
      "bobutil": 52.17616975
    }
  ]
}
```

#### sell
This script is completely opposite of `buy` and uses the same parameters. Edit the file with specific coin pair name, volume and price.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"sell\",\"base\":\"KMD\",\"rel\":\"BTC\",\"basevolume\":10.0,\"price\":0.0005}"
```

Sample Output:
```JSON
{
  "result": "success"
}
```

#### setconfirms
This will allow each node to set the number of required confirms on a coin by coin basis. During the atomic swap, each side sends to the other the required confirms and the "protocol" is that both sides use the bigger value.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"setconfirms\",\"coin\":\"DGB\",\"numconfirms\":1}"
```

Sample Output:
```JSON
{
  "result": "success"
}
```

#### setprice
To create a bob `utxo` (or an ask order) you need to first set the price. To set price you need to edit the `./setprice` script in the `dexscripts` folder

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"setprice\",\"base\":\"KMD\",\"rel\":\"REVS\",\"price\":0.5}"
```

Sample Output:
```JSON
{
  "result": "success"
}
```

### (`swapstatus` / Statistics)
Supports `swapstatus(coin)` and `swapstatus(base,rel)` which will return all swaps that match, ie if coin, then either base or rel matching coin, if base rel, then exact match. **Note that:** base, rel will NOT match rel, base.

`swapstatus(coin,limit)` and `swapstatus(base,rel,limit)` will internally query `swapstatus(0,0)` and also `recentswaps(limit)` and iterate through all the `recentswaps` and the full `swapstatus(0,0)` list and return the ones that match.

#### pubkeystats

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"statsdisp\",\"starttime\":0,\"endtime\":0,\"pubkey\":\"a2593155464e37fcc88245780240a412a38cf3d316809445aad73f4e7789187d\"}"
```

Sample Output:



#### recentswaps

This api returns up to "limit" in reverse order the swaps on the node and the current pending swap (if any) so you can see what trade might happen.

'limit' = the number of latest swaps to be visible in output.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"recentswaps\",\"limit\":1}"
```

Sample Output:
```JSON
{
  "result": "success",
  "swaps": [
    [
      2779577435,
      2461904533
    ],
    [
      932852928,
      3189912026
    ]
  ],
  "pending": {
    "expiration": 1508343494,
    "timeleft": 5,
    "base": "",
    "basevalue": 0,
    "rel": "",
    "relvalue": 0
  }
}
```

#### status
This will display the swap status for your trades along with requestid and quoteid. If want to get detailed `swapstatus` check the 2nd sample and the output.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"swapstatus\"}"
```

Sample Output:
```JSON
{
  "result": "success",
  "swaps": [
    {
      "status": "realtime",
      "requestid": 157581336,
      "quoteid": 2717912442
    },
    {
      "status": "realtime",
      "requestid": 2050117881,
      "quoteid": 263483411
    }
  ]
}
```

#### 2nd Sample:
You can get more information about the swaps by quering with requestid and quoteid. The sample file looks like below:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"swapstatus\",\"requestid\":157581336,\"quoteid\":2717912442}"
```

The sample result is below:
```JSON
{
  "requestid": 157581336,
  "quoteid": 2717912442,
  "iambob": 0,
  "bob": "REVS",
  "srcamount": 1.79816276,
  "bobtxfee": 0.0001,
  "alice": "KMD",
  "destamount": 2,
  "alicetxfee": 0.0001,
  "sentflags": [
    "alicespend",
    "bobpayment",
    "alicepayment",
    "bobdeposit",
    "myfee"
  ],
  "values": [
    1.79806276,
    0,
    1.79816276,
    2.0001,
    2.0229331,
    0,
    0.002674,
    0,
    0,
    0,
    0
  ],
  "result": "success",
  "status": "finished",
  "bobdeposit": "6f36a465184f9c2a377dc7a338ff24c1096c97a7cc13aa3a8e3cf2bd46d88c03",
  "alicepayment": "7221eb0ac7cb9985cd580d82310a1f95b4e47617597c1b747d7840e776d73a93",
  "bobpayment": "7a05b28041b112178ecf5d532a18ff8e75d280fec8a7bc4511fce0215a3c66d3",
  "paymentspent": "9a541250257346de1b7d5b4ca11814b2df7098b750af23d0fad5b245c5435110",
  "Apaymentspent": "0000000000000000000000000000000000000000000000000000000000000000",
  "depositspent": "0000000000000000000000000000000000000000000000000000000000000000"
}
```

### TradeBots

#### bot_buy
Starts a auto tradebot to do the trading for you. `maxprice` is the highest price you want to pay for 1 base, `relvolume` is the total amount of coins you want to spend.

Sample file contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_buy\",\"base\":\"MNZ\",\"rel\":\"KMD\",\"maxprice\":3,\"relvolume\":10.0}"
```

Sample output:
```JSON
{
  "result": "success",
  "name": "buy_MNZ_KMD.1509539940",
  "botid": 3601212692,
  "started": 1509539940,
  "action": "buy",
  "base": "MNZ",
  "rel": "KMD",
  "maxprice": 3,
  "totalrelvolume": 10,
  "totalbasevolume": 3.33333333,
  "trades": []
}
```

#### bot_list
This script will display a list of all `botid`s that you used.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_list\"}"
```

Sample Output:
```JSON
[
  2833291137,
  3601212692,
  2712409213
]
```

#### bot_pause

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_pause\",\"botid\":$1}"
```

Sample usage:
`./bot_resume 3601212692` # here **3601212692** is the `botid` from `./bot_buy` or `./bot_sell` script output.

Sample Output:
```JSON
{"result":"success"}
```

#### bot_resume
Resumes a paused tradebot.

Sample file contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_resume\",\"botid\":$1}"
```

Sample Usage:
`./bot_resume 3601212692` # here **3601212692** is the `botid` from `./bot_buy` or `./bot_sell` script output.

Sample Output:
```JSON
{"result":"success"}
```

#### bot_sell
Place a sell order using tradebots. `minprice` is the lowest you will sell for 1 coin, `basevolume` is the total amount of coins you want to sell.

Sample file contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_sell\",\"base\":\"REVS\",\"rel\":\"KMD\",\"minprice\":2,\"basevolume\":5.0}"
```

Sample Output:
```JSON
{
  "result": "success",
  "name": "sell_MNZ_KMD.1509549405",
  "botid": 2247122510,
  "started": 1509549405,
  "action": "sell",
  "base": "MNZ",
  "rel": "KMD",
  "minprice": 2,
  "totalbasevolume": 5,
  "totalrelvolume": 10,
  "trades": []
}
```

#### bot_settings
`./bot_settings` allows you to change price or volume after starting the `bot_buy` or `bot_sell`.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_settings\",\"botid\":$1,\"newprice\":$1,\"newvolume\":$2}"
```

Sample Usage:
```shell
./bot_settings 2247122510 3 6 # here `2247122510` is `botid` and 3 is the `new price`, 6 is the `new volume`
```

Sample Outputs:
```JSON
{
  "result": "success",
  "name": "sell_MNZ_KMD.1509549405",
  "botid": 2247122510,
  "started": 1509549405,
  "paused": 1509549517,
  "action": "sell",
  "base": "MNZ",
  "rel": "KMD",
  "minprice": 2247122510,
  "totalbasevolume": 0,
  "totalrelvolume": 3,
  "aveprice": 2,
  "volume": 4,
  "trades": [
    {},
    {},
    {},
    {},
    {},
    {},
    {},
    {},
    {},
    {}
  ],
  "completed": 4,
  "percentage": 149808167333.3333,
  "pending": 6,
  "pendingprice": 2,
  "pendingvolume": 6
}
```

#### bot_status
Tradebot status. Use `botid` after the `./bot_status` script.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_status\",\"botid\":$1}"
```

Sample Usage:
`./bot_status 3601212692` # here **3601212692** is the `botid` from `./bot_buy` or `./bot_sell` script output.

Sample Output:
```JSON
{
  "result": "success",
  "name": "buy_MNZ_KMD.1509542273",
  "botid": 2384827585,
  "started": 1509542273,
  "paused": 1509542452,
  "action": "buy",
  "base": "MNZ",
  "rel": "KMD",
  "maxprice": 0.21,
  "totalrelvolume": 0.1,
  "totalbasevolume": 0.47619048,
  "aveprice": 0.20486144,
  "volume": 0.0672,
  "trades": [
    {},
    {},
    {},
    {},
    {},
    {},
    {},
    {},
    {},
    {},
    {}
  ],
  "completed": 7,
  "percentage": 67.2,
  "pending": 4,
  "pendingprice": 0.20633316,
  "pendingvolume": 0.0387
}
```

#### bot_statuslist
Displays the status of all bots.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_statuslist\"}"
```

#### bot_stop
To stop the tradebots. Use `botid` from your buy or sell order.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"bot_stop\",\"botid\":$1}"
```

Sample usage:
`./bot_stop 3601212692` # here **3601212692** is the `botid` from `./bot_buy` or `./bot_sell` script output.

Sample Output:
```JSON
{"result":"success"}
```

### Coin Features

#### balance
This will display the balance of a specific smartaddress for barterDEX trading. The idea of the barterDEX balance are, `utxo`. That are "hot" / "live" ready for trading. It is the analogue of funds in an exchange account. This will not show your full wallet balance, and you wouldn't want the exchange account balance to show the amount of all your coins, including the ones not deposited in the exchange. Edit the file with coin `name` and `smartaddress` and it will display balance of your smartaddress(s).

KMD balance will display `zcredits` as well.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"balance\",\"coin\":\"KMD\",\"address\":\"RDoMmoCM5AcEH6Yf5vqKbqRjD1fLcQHuWb\"}"
```

Sample Output:
```JSON
{"result":"success","coin":"KMD","address":"RANyPgfZZLhSjQB9jrzztSw66zMMYDZuxQ","balance":360.33996021,"zcredits":0,"zdebits":{"swaps":[],"pendingswaps":0}}
{"result":"success","coin":"REVS","address":"RANyPgfZZLhSjQB9jrzztSw66zMMYDZuxQ","balance":39.10219798}
{"result":"success","coin":"BTC","address":"126nKAnGxWtsfPoxGh1snvbtLitkstZbvV","balance":0.00400000}
```

#### balances
This method will display balance of all active coins in your wallet. No need to use a curl script for a specific coin and address.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"balances\"}"
```

Sample Output:
```JSON
[{"coin":"BTC","balance":0.00400000}, {"coin":"KMD","balance":360.33996021}, {"coin":"MNZ","balance":55.70756040}, {"coin":"REVS","balance":39.10219798}, {"coin":"JUMBLR","balance":1.12038776}, {"coin":"SUPERNET","balance":0.91430900}, {"coin":"PANGEA","balance":1}, {"coin":"DEX","balance":1}, {"coin":"BET","balance":1}, {"coin":"CRYPTO","balance":1}, {"coin":"HODL","balance":1}, {"coin":"BOTS","balance":1}, {"coin":"COQUI","balance":10.85596031}]
```

#### fundvalue
`fundvalue` will process `"holdings":[]` array and also do an internal balances api call if `address` is specified. This will only work for watchonly addresses that have been rescanned and with active coins. In order for external addresses to work, you need to have `importaddress` and `rescan` done, for obvious reasons, in native mode. SPV mode should just work without that.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"fundvalue\",\"address\":\"RRyyejME7LRTuvdziWsXkAbSW1fdiohGwK\"}"
```

Sample Output:
```JSON
{"holdings":[{"coin":"KMD","KMD":6000000}, {"coin":"REVS","error":"no price source"}, {"coin":"JUMBLR","KMD":4177502.22193679}, {"coin":"SUPERNET","error":"no price source"}, {"coin":"PANGEA","error":"no price source"}, {"coin":"DEX","error":"no price source"}, {"coin":"BET","error":"no price source"}, {"coin":"CRYPTO","error":"no price source"}, {"coin":"HODL","error":"no price source"}, {"coin":"MSHARK","error":"no price source"}, {"coin":"BOTS","error":"no price source"}],"fundvalue":10177502.22193679}
```

#### getrawtransaction
barterDEX now has `getrawtransaction` API for any installed coin and will use Electrum or native depending on whether electrum was called, that should help us directly issue Electrum for the oversized txid and directly cause any overflows.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"getrawtransaction\",\"coin\":\"KMD\",\"txid\":\"107a2683abbfa9188f78e17d3bcba66ece5bd7cbe105ab5bbaae79364159e84d\"}"
```

#### listunspent
barterDEX uses `utxo` pairs instead of total balance to do the trading. For this the balance has be broken down and fund the address using 1x, 1.2x & 0.1x ratio. It is due to the nature of atomic swap protocol that is bartering specific utxo and the need for two utxo per atomic swap.
**Analogy: If you need a quarter and a dime, exactly to make a purchase, is it possible to use just a single coin? barterDEX is swapping PAIRS (as in two) utxos.**
`./listunspent` Gives similar output like your coin wallet. It will list all the unspent transactions (`utxo`) you have in a given coin wallet smartaddress. 

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"listunspent\",\"coin\":\"CHIPS\",\"address\":\"RDoMmoCM5AcEH6Yf5vqKbqRjD1fLcQHuWb\"}"
```

Sample Output:
```JSON
[
  {
    "tx_hash": "873e12d89eb9a25c1c40f0301b77414da0567982e3a06ce55a3501ff726bd253",
    "tx_pos": 1,
    "height": 534479,
    "value": "1251800000"
  },
  {
    "tx_hash": "8a62bb10f700c16629a52ad0dc8c730490de3038e30af82b1a706c91f337d968",
    "tx_pos": 1,
    "height": 535408,
    "value": "11000000"
  },
  {
    "tx_hash": "8848abd97daca43c702dbb176dac50d85261449c808f19324f5be1b4a495ad69",
    "tx_pos": 1,
    "height": 535379,
    "value": "11000000"
  },
  {
    "tx_hash": "79684e9c19c996292ad4a25c9dc05c89a3a9243af1b83727362bb2e2f92e08f6",
    "tx_pos": 1,
    "height": 534027,
    "value": "1012700000"
  }
]
```

#### secretaddresses
It will display secret 10 addresses with their private keys for a given `pubtype`. You can change the `num`, `pubtype` etc by editing the script.

Sample File Contents:
```shell
echo "usage: ./secretaddresses 'passphrase'"

curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"secretaddresses\",\"num\":16,\"passphrase\":\"$1\"}"
```

Sample Output:
```JSON
usage: ./secretaddresses 'passphrase'
{"R9oeSNXqR499PFz2BgUeZJvSsp331TFDYi":"UxKrG3xxxxxx",
"RX7sUCvxV45LmrmVRvkbm8kUedFqhXgqtt":"UuNeHYexxxxxx",
"RRKf3RnmbNDnCfC6P7HHYNBJuRrVxEm7Db":"UsXUNtmxxxxxx",
"RSo6exWzMbnGnwM4b3WcT1MvxvnRuRSURP":"UsFuDaWxxxxxx",
"RRve3cdBJPF2dcT6uD8gT2Bfhg7ZU9krFU":"Uw1Xbcoxxxxxx",
"REkV8JMBuLFTjYH93QfJ4UpmoLw85LomP4":"UpYxoFMxxxxxx",
"RKJ6vpCTYjDCoyrLyuxJRvjiraM5ZEwos5":"Urin6VUxxxxxx",
"RDHo38pWxDEvqx99C2aJhprHQwf9bYoKRE":"UuNsFyBxxxxxx",
"RLGRaoQ7FCu8dk653CMR4nLiRnfYZiXb7D":"UvT2utaxxxxxx",
"RJABFzJzBNoPUGZrMBcBfL5UqYjY8hptJU":"UsoAJqRxxxxxx",
"RN2TRHQBFWMB9G1MkHKdYbg4oU7ToxRTdB":"UqNiGgAxxxxxx",
"RJYuYeXAnWoVPbgHpc1rtxkoBWFCtzib1E":"Uqeaxmzxxxxxx",
"RXkZYAD13G89foJbN7uHpD2A2oZJaDTMzr":"UqejSkPxxxxxx",
"RUfuMah7a9QXar5XcJpage4S7jtoiL99Kv":"Uq7e4Hdxxxxxx",
"RTS385Ny2feDBgLGzrAPRw2Q7u5jpv9jZs":"UvUcSEPxxxxxx",
"RP7haeUQv56FW9X6W1rRbhbqvXPyvX23Fi":"UpqRcKMxxxxxx"}
```

#### sendrawtransaction
This method will broadcast a raw transaction over the network. Uses tx-hex from `./withdraw` API output.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"sendrawtransaction\",\"coin\":\"KMD\",\"signedtx\":\"$1\"}"
```

#### supernet
`supernet` script uses the `balances` API and returs all SuperNET aseet balances along with KMD for a specific address. In order for external addresses to work, you need to have `importaddress` and `rescan` done, for obvious reasons, in native mode. SPV mdoe just works without that.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"balances\",\"address\":\"RRyyejME7LRTuvdziWsXkAbSW1fdiohGwK\"}"
```

Sample Output:
```JSON
[{"coin":"KMD","balance":6000000}, {"coin":"REVS","balance":6335.95500000}, {"coin":"JUMBLR","balance":239022.38900000}, {"coin":"SUPERNET","balance":6335.95500000}, {"coin":"PANGEA","balance":602828.14640000}, {"coin":"DEX","balance":257733}, {"coin":"BET","balance":2688}, {"coin":"CRYPTO","balance":320754.73700000}, {"coin":"HODL","balance":70000}, {"coin":"MSHARK","balance":385403.90000000}, {"coin":"BOTS","balance":288157}]
```

#### withdraw
To withdraw, you just need to specify the array of outputs and the coin. It returns the `rawtx`, the signed transaction in `hex` the `txid` and if it was complete or not. All inputs are assumed to be standard pay to `pubkeyhash`, having other non-standard `utxo` will make it create invalid rawtx.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"withdraw\",\"coin\":\"KMD\",\"outputs\":[{\"RUgW6fLfVsLJ87Ng4zJTqNedJSKYQ9ToAf\":0.001}, {\"RUgW6fLfVsLJ87Ng4zJTqNedJSKYQ9ToAf\":0.002}]}
```

Sample Output:
```JSON
{"method":"withdraw","coin":"KMD","outputs":[{"RUgW6fLfVsLJ87Ng4zJTqNedJSKYQ9ToAf":0.00100000}, {"RUgW6fLfVsLJ87Ng4zJTqNedJSKYQ9ToAf":0.00200000}]} -> f6b04d157c007bf688822a73c754934f53cf28516f64dc64372fa397789e9ce1
{"rawtx":"0100000001b5384fc2f0b737a17239eaf2172bf24c4f410f720e672c3f56a9b5a8e0b33a910100000000ffffffff03a0860100000000001976a914d4d2ffc812cdce0c30c5184e8ea1deb7bfeb5b3888ac400d0300000000001976a914d4d2ffc812cdce0c30c5184e8ea1deb7bfeb5b3888ac06771300000000001976a91459fdba29ea85c65ad90f6d38f7a6646476b26b1688ac7dd4e359","hex":"0100000001b5384fc2f0b737a17239eaf2172bf24c4f410f720e672c3f56a9b5a8e0b33a91010000006b483045022100df405fe4f79e66052a952968b93ed3f56b2fc75908a90c70d9d409b4da45996902200b9136063fcdb0bfdfeb09801d2fcbb0658236d69135711a20ac4aa50c8d3bf0012102ebc786cb83de8dc3922ab83c21f3f8a2f3216940c3bf9da43ce39e2a3a882c92ffffffff03a0860100000000001976a914d4d2ffc812cdce0c30c5184e8ea1deb7bfeb5b3888ac400d0300000000001976a914d4d2ffc812cdce0c30c5184e8ea1deb7bfeb5b3888ac06771300000000001976a91459fdba29ea85c65ad90f6d38f7a6646476b26b1688ac7dd4e359","txid":"f6b04d157c007bf688822a73c754934f53cf28516f64dc64372fa397789e9ce1","complete":true}
```

### Statistics

#### guistats
`guistats` method is for GUI apps to display statistics, based on the `statsdisp` API.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"statsdisp\",\"starttime\":0,\"endtime\":0,\"gui\":\"buildog\"}"
```

#### pricearray
`pricearray` will display statistical price data based on timescale.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"pricearray\",\"base\":\"REVS\",\"rel\":\"KMD\",\"timescale\":300}"
```
This will output the data in an order of `[timestamp, avebid, aveask, highbid, lowask]`

Sample output:
```JSON
[
 [1510603500, 1.40944454, 1.40944453, 3.13224635, 1.07003092],
 [1510603800, 1.50064727, 1.50064726, 3.13224635, 1.07003092],
 [1510604100, 1.50064727, 1.50064726, 3.13224635, 1.07003092],
 [1510607100, 1.44868382, 1.44868381, 3.13224635, 1.07003092],
 [1510607400, 1.50064727, 1.50064726, 3.13224635, 1.07003092],
 [1510607700, 1.52877070, 1.52877069, 3.13224635, 1.07003092],
 [1510608000, 1.55019807, 1.55019806, 3.13224635, 1.09860370],
 [1510608300, 1.57205536, 1.57205536, 3.13224635, 1.09860370],
 [1510608600, 1.30344136, 1.30344135, 1.76975636, 1.17393764],
 [1510611600, 1.21488583, 1.21488582, 1.25583401, 1.17393764],
 [1510611900, 1.25661049, 1.25661048, 1.34097978, 1.17393764]
]
```

#### statsdisp
`statsdisp` processes the `stats.log` file on your node. It will display the swaps as best as it can figure out the unique number of swaps, you can set specific `starttime` and `endtime`. If not specified, will display all. If both are the same time from the future, it will display only the pending stats.

This is a very good feature as it can identify any node that is trying to do too many trades at once

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"statsdisp\",\"starttime\":0,\"endtime\":0}"
```

Sample Output:
```JSON
{
  "result": "success",
  "newlines": 0,
  "request": 0,
  "reserved": 0,
  "connect": 0,
  "connected": 0,
  "duplicates": 0,
  "parse_errors": 0,
  "uniques": 0,
  "tradestatus": 0,
  "unknown": 0
}
```

#### ticker
'ticker' API returns trades for the previous 24hours. You can set `base/rel` optionally. Most useful for price and marketcap statistics.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"ticker\",\"base\":\"REVS\",\"rel\":\"KMD\"}"
```

Sample Output:
```JSON
[{"timestamp":1513174486,"KMD":4.02827942,"CHIPS":80.00010000,"price":19.85962036}, {"timestamp":1513168630,"KMD":0.07448089,"MNZ":0.25609997,"price":3.43846549}, {"timestamp":1513166465,"CRYPTO":44.00844307,"KMD":500.00010000,"price":11.36145851}, {"timestamp":1513158008,"KMD":463.91820708,"SUPERNET":10.00010000,"price":0.02155574}]
```

#### tradesarray
`tradesarray` will display statistical trade data based on timescale in seconds.

Sample File Content:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"tradesarray\",\"base\":\"REVS\",\"rel\":\"KMD\",\"timescale\":120}"
```
This will output the data in an order of `[timestamp, high, low, open, close, relvolume, basevolume, aveprice, numtrades]`

Sample output:
```JSON
[
 [1511480400, 1.27614172, 1.27614172, 1.27614172, 1.27614172, 0.04990000, 0.03910224, 1.27614172, 1],
 [1511480520, 1.97936698, 1.36595231, 1.97936698, 1.36595231, 0.09980000, 0.06174137, 1.61642024, 2],
 [1511480640, 2.11837065, 2.11837065, 2.11837065, 2.11837065, 0.04990000, 0.02355584, 2.11837065, 1],
 [1511481840, 1.63195519, 1.55147942, 1.63195519, 1.55147942, 0.09980000, 0.06273967, 1.59070011, 2],
 [1511481960, 1.82528276, 1.82528276, 1.82528276, 1.82528276, 0.04990000, 0.02733823, 1.82528276, 1],
 [1511482680, 1.77777461, 1.77777461, 1.77777461, 1.77777461, 0.04990000, 0.02806880, 1.77777461, 1]]
```

### Communication

#### deletemessages
As the name suggests this API will let you delete messages received from other nodes.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"deletemessages\",\"firsti\":0,\"num\":10}"
```

Sample Output:
```JSON
{
  "result": "success"
}
```

#### getmessages
This API will allow to retrieve messages sent from other nodes.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"getmessages\",\"firsti\":0,\"num\":10}"
```

Sample Output:
```JSON
{
  "messages": []
}
```

#### message
The `./message` script let nodes communicate with each other with end to end encryption. It is recommended to message a node first before doing an actual trade to make sure they can communicate. 

To send a message you need to have the recipients public key. The public key can be found when launching the `./client` or running any other script the first time after launching  `./client`.  Edit the `./message` script to write your custom message. Execute `./message  <pubkey of recipient>` to send the message.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"pubkey\":\"$1\",\"method\":\"sendmessage\",\"message\":\"some sort of message\"}"
```

Sample Output:
```JSON
{
  "result": "success"
}
```

### Revenue Sharing/Operations

#### dividends
This script will allow users / organizations to send dividends for any specific coins/asstets 

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"dividends\",\"coin\":\"KMD\",\"height\":$1,\"prefix\":\"fiat/jumblr sendtoaddress\",\"suffix\":\"\",\"dividend\":50000,\"dust\":1}"
```

#### snapshot
The name says it all, snapshot will take a snap of the blockchain for a specified coin/asset on a certain block height for sending dividends or airdrop.

Sample File Contents:
```shell
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"snapshot\",\"coin\":\"KMD\",\"height\":$1}"
```

#### snapshot_balance
This API will display the snapshot balance of a specific coin address after snapshot taken on a specific block height. You need to have jq installed (`https://stedolan.github.io/jq/`). 

Sample File Contents:
```shell
ht=$1
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"snapshot_balance\",\"coin\":\"KMD\",\"height\":$ht,\"addresses\":[\"RSAzPFzgTZHNcxLNLdGyVPbjbMA8PRY7Ss\", \"RBgD5eMGwZppid4x7PTEC2Wg1AzvxbsQqB\"]}"
```

#### snapshot_loop
This API is used to automate snapshot process for coins/assets at given block height and certain number thereafter. You can configure the script to run on certain block height increments.

Sample File Contents:
```shell
ht=$1
while true
do
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"snapshot\",\"coin\":\"KMD\",\"height\":$ht}"
#ht=`komodo-cli getinfo | jq .blocks`
ht=$(( $ht + 1000 ))
echo next height $ht
sleep 1
done
```